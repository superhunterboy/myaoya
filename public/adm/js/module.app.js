/*11*/var app=angular.module("app",["nav","user"]).config(["$provide","$compileProvider","$controllerProvider","$filterProvider","$httpProvider",function(t,e,n,a,o){app.controller=n.register,app.directive=e.directive,app.filter=a.register,app.factory=t.factory,app.service=t.service,app.constant=t.constant,o.defaults.transformRequest.push(function(t){if(t&&"string"==typeof t){t=JSON.parse(t);var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}}),o.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8"}]);app.directive("smscode",["$rootScope","http","ngDialog","Tip",function(t,e,n,a){return{replace:!0,restrict:"AE",template:"<div class='smscode'><div class='page-title'><span>短信验证</span></div><div class='table' style='text-align: center;padding: 180px 0;margin: 100px 600px;'><input type='text' maxlength='4' class='input codeInput' /> <input type='button' ng-disabled='loading' class='btn btn-default sendCode' value='发送验证码'></div> ",link:function(n,o,s,c){t.smsCode=!1,e.get("/admin/isSmsVerify",{},function(e){0!=e.status&&(t.smsCode=!0)}),$(".sendCode").on("click",function(){n.loading||(n.loading=!0,e.get("/admin/sendCode",{},function(t){if(0==t.status){a.success("发送成功");var e=30,o=setInterval(function(){e>0?(n.loading=!0,e--,$(".sendCode").val(e+"s")):(clearInterval(o),$(".sendCode").val("发送验证码"),n.loading=!1)},1e3)}else a.error(t.data.msg),n.loading=!1}))}),$(".codeInput").on("keyup",function(){4==$(this).val().length&&e.get("/admin/verifyCode?code="+$(this).val(),{},function(e){0==e.status?(a.success("验证通过"),t.smsCode=!0):a.error(e.data.msg)})}),t.$on("$stateChangeStart",function(){t.smsCode=!1})}}}]),app.directive("checkAll",function(){return{restrict:"AE",link:function(t,e,n,a){$(document).off("change","."+n.checkAll).on("change","."+n.checkAll,function(){if(t.$apply(function(){t[n.ngModel]=!1}),$(this).prop("checked"))t[n.checkValue].push($(this).val());else{var e=t[n.checkValue].indexOf($(this).val());-1!=e&&t[n.checkValue].splice(e,1)}}),e.on("change",function(){var e=$("."+n.checkAll+":enabled");$(this).prop("checked")?(e.prop("checked",!0),t[n.checkValue].length=0,e.each(function(e,a){t[n.checkValue].push($(a).val())})):(e.prop("checked",!1),t[n.checkValue].length=0)})}}}),app.factory("http",["$http",function(t){function e(){}return e.prototype.get=function(e,n,a){t({url:e,params:n,method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){var e=t.data;a(e)}).catch(function(t){401==t.status&&(alert("您的上网IP发生变化或账号在其他地方登录，请重新登陆！"),location.href="login.html"),a({status:t.status,msg:"接口错误"})})},e.prototype.delete=function(e,n){t({url:e,method:"DELETE",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){var e=t.data;n(e)}).catch(function(t){401==t.status&&(alert("您的上网IP发生变化或账号在其他地方登录，请重新登陆！"),location.href="login.html"),n({status:t.status,msg:"接口错误"})})},e.prototype.post=function(e,n,a){t({url:e,data:angular.toJson(n,!0),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var e=t.data;a(e)}).catch(function(t){401==t.status&&(alert("您的上网IP发生变化或账号在其他地方登录，请重新登陆！"),location.href="login.html"),a({status:t.status,msg:"接口错误"})})},e.prototype.put=function(e,n,a){t({url:e,data:angular.toJson(n,!0),method:"PUT",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var e=t.data;a(e)}).catch(function(t){401==t.status&&(alert("您的上网IP发生变化或账号在其他地方登录，请重新登陆！"),location.href="login.html"),a({status:t.status,msg:"接口错误"})})},new e}]),app.constant("vendorsType",{0:"不可用",1:"雅付",2:"闪付",3:"讯宝",4:"乐盈",5:"自由付",6:"沃雷特",7:"金海哲",8:"华仁",9:"荷包",10:"立刻付",11:"多多",12:"金海哲(新)",13:"仁信",14:"天付宝",15:"高通",16:"新雅付",17:"先行付",18:"我付",19:"汇达",20:"泽圣",21:"新自由付",22:"钱袋支付",23:"金阳",24:"个人支付宝",25:"旺富通",26:"千应",27:"优付",28:"商码付",29:"恒辰",30:"成沃",31:"开联通",32:"点付云",33:"芯富",34:"滕坤",35:"天吉",36:"众点",37:"智能云支付",38:"智能云支付2.0",39:"喜付",40:"艾付",41:"Npay付",42:"顺心付",43:"米达支付",44:"wpay",45:"恒星闪付",46:"众信",47:"星捷",48:"迅捷",49:"云通",51:"恒通",52:"Bingopay",53:"乐享",54:"易宝",55:"随意付",56:"畅支付",57:"银信",58:"五福",59:"Pppay",60:"顺达通",61:"盖亚",62:"1030",63:"A付",64:"AZ付"}),app.constant("payOutType",{0:"无",1:"天付宝",2:"雅付",3:"金海哲",4:"泽圣",5:"传化",6:"开联通",7:"众点",8:"商码付",9:"喜付",10:"艾付",11:"Npay付",12:"顺心付",13:"天吉(仅充值)",14:"迅捷",15:"多宝(仅出款)",16:"Bingopay",17:"易宝",18:"新欣聚",19:"佳友通",20:"盖亚",21:"青英",22:"极云"});